apply plugin: 'java'

version = ''
sourceCompatibility = 1.7
targetCompatibility = 1.7


dependencies {
    compile files('libs/VDABCore.jar','libs/org.eclipse.paho.client.mqttv3-1.2.0.jar' )
}
 
//Get dependencies from Maven central repository
repositories {
    mavenCentral()
}
task vdabPackage(dependsOn: [build]){
	doLast {
		def jarFiles = file('./libs').listFiles()
		jarFiles.each {File nextFile ->
		println ">>>>> Including JAR= $nextFile.name"
		}
		copy {
			from 'libs'
			from 'build/libs'
			into 'pkg/ext'
			exclude 'VDABCore.jar'
		}
		ant.zip(destfile: 'PKG_MqttNodes.zip'){
			fileset (dir: 'pkg')
		}
	}
}
